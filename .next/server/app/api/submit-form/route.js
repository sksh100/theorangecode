"use strict";(()=>{var e={};e.id=75,e.ids=[75],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6005:e=>{e.exports=require("node:crypto")},8157:(e,r,s)=>{s.r(r),s.d(r,{originalPathname:()=>g,patchFetch:()=>x,requestAsyncStorage:()=>c,routeModule:()=>d,serverHooks:()=>f,staticGenerationAsyncStorage:()=>m});var t={};s.r(t),s.d(t,{OPTIONS:()=>p,POST:()=>l});var o=s(9303),n=s(8716),i=s(670),a=s(7070),u=s(4486);async function l(e){try{let{firstName:r,lastName:s,email:t,phone:o,eventDate:n,timestamp:i,source:l}=await e.json();if(!r||!s||!t||!o)return a.NextResponse.json({error:"Missing required fields"},{status:400});if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return a.NextResponse.json({error:"Invalid email format"},{status:400});let p=o.replace(/[\s\-\(\)]/g,"");if(!/^[\+]?[1-9][\d]{0,15}$/.test(p))return a.NextResponse.json({error:"Invalid phone number format"},{status:400});let d=`luxury_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,c={id:d,firstName:r,lastName:s,email:t,phone:o,eventDate:n,timestamp:i,source:l,ip:e.ip||e.headers.get("x-forwarded-for")||"unknown",submittedAt:new Date().toISOString()};try{await u.kv.set(`submission:${d}`,c),await u.kv.lpush("submissions:list",d),await u.kv.sadd("submissions:emails",t),console.log("Form submission saved to Vercel KV:",d)}catch(e){console.error("KV storage error:",e)}return console.log("Form submission received:",c),a.NextResponse.json({success:!0,message:"Interest registered successfully",data:{id:d,firstName:r,lastName:s,email:t,eventDate:n,registeredAt:i}})}catch(e){return console.error("Form submission error:",e),a.NextResponse.json({error:"Internal server error"},{status:500})}}async function p(e){return new a.NextResponse(null,{status:200,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST, OPTIONS","Access-Control-Allow-Headers":"Content-Type"}})}let d=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/submit-form/route",pathname:"/api/submit-form",filename:"route",bundlePath:"app/api/submit-form/route"},resolvedPagePath:"/Users/sunain/Desktop/your-luxury-agent/src/app/api/submit-form/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:c,staticGenerationAsyncStorage:m,serverHooks:f}=d,g="/api/submit-form/route";function x(){return(0,i.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:m})}}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[276,574],()=>s(8157));module.exports=t})();